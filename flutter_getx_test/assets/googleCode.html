<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>구글 로그인</title>
</head>
<body>
<script type="text/javascript">

    const returnData = async () => {
        // 구글에서 ? 대신 #을 보내기 때문에 replace 해준다
        const loginParam = new URLSearchParams(location.href.substring(location.href.indexOf("#")).replace('#','?'));

        const data = {
            provider : "G",
            code : loginParam.get("code"),
            state : loginParam.get("state")
        }

        await opener.checkSocialCodeDTO(JSON.stringify(data));
        window.close();
    }

    returnData();

</script>
</body>
</html>

